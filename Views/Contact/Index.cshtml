@{
    ViewData["Title"] = "Contact Us";
}

<div class="contact-container">
    <div class="contact-header">
        <h2>Contact Us</h2>
        <p>We'd love to hear from you! Please fill out the form below or use our contact information.</p>
    </div>

    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <p>@TempData["SuccessMessage"]</p>
            @if (User.Identity.IsAuthenticated)
            {
                <p>You can view your message and any responses in <a asp-action="MyMessages" class="alert-link">My Messages</a>.</p>
            }
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    @if (TempData["ErrorMessage"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            @TempData["ErrorMessage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    <div class="contact-content">
        <div class="contact-info">
            <div class="info-card">
                <div class="info-icon">
                    <i class="fas fa-map-marker-alt"></i>
                </div>
                <h4>Visit Us</h4>
                <p>123 Library Street<br>Booktown, BK 12345<br>United States</p>
            </div>

            <div class="info-card">
                <div class="info-icon">
                    <i class="fas fa-phone-alt"></i>
                </div>
                <h4>Call Us</h4>
                <p>Main: (123) 456-7890<br>Support: (123) 456-7891<br>Fax: (123) 456-7892</p>
            </div>

            <div class="info-card">
                <div class="info-icon">
                    <i class="fas fa-envelope"></i>
                </div>
                <h4>Email Us</h4>
                <p>info@onlinelibrary.com<br>support@onlinelibrary.com<br>feedback@onlinelibrary.com</p>
            </div>

            <div class="info-card">
                <div class="info-icon">
                    <i class="fas fa-clock"></i>
                </div>
                <h4>Opening Hours</h4>
                <p>Monday - Friday: 9:00 AM - 8:00 PM<br>Saturday: 10:00 AM - 6:00 PM<br>Sunday: 12:00 PM - 5:00 PM</p>
            </div>
        </div>

        <div class="contact-form-container">
            <form class="contact-form" asp-action="SubmitMessage" method="post">
                @Html.AntiForgeryToken()
                <div class="form-group">
                    <label for="name">Your Name</label>
                    <input type="text" id="name" name="name" class="form-control" value="@ViewBag.UserName" required />
                </div>

                <div class="form-group">
                    <label for="email">Your Email</label>
                    <input type="email" id="email" name="email" class="form-control" value="@ViewBag.UserEmail" required />
                </div>

                <div class="form-group">
                    <label for="phone">Phone Number (Optional)</label>
                    <input type="tel" id="phone" name="phone" class="form-control" value="@ViewBag.UserPhone" />
                </div>

                <div class="form-group">
                    <label for="subject">Subject</label>
                    <select id="subject" name="subject" class="form-control" required>
                        <option value="" selected disabled>Select a subject</option>
                        <option value="General Inquiry">General Inquiry</option>
                        <option value="Membership">Membership</option>
                        <option value="Book Availability">Book Availability</option>
                        <option value="Library Events">Library Events</option>
                        <option value="Feedback">Feedback</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="message">Your Message</label>
                    <textarea id="message" name="message" class="form-control" rows="5" required></textarea>
                </div>

                <div class="form-check">
                    <input type="checkbox" id="newsletter" name="newsletter" class="form-check-input" value="true" />
                    <label class="form-check-label" for="newsletter">Subscribe to our newsletter</label>
                </div>

                <button type="submit" class="btn btn-primary btn-send">Send Message</button>

                @if (User.Identity.IsAuthenticated)
                {
                    <a asp-action="MyMessages" class="btn btn-outline-secondary">View My Messages</a>
                }
            </form>
        </div>
    </div>

    <div class="library-map">
        <h3>Find Us on the Map</h3>
        <div class="map-container">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2855.0574175413135!2d23.832505176678364!3d44.30877010978401!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4752d702cd0f3173%3A0xb159446a3e899375!2sFacultatea%20de%20Automatic%C4%83%20%C8%99i%20Electronic%C4%83!5e0!3m2!1sro!2sro!4v1745426110076!5m2!1sro!2sro" width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
    </div>

    <div class="faq-section">
        <h3>Frequently Asked Questions</h3>
        <div class="accordion" id="contactFAQ">
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        How do I get a library card?
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#contactFAQ">
                    <div class="accordion-body">
                        To get a library card, you need to visit our library in person with a valid ID and proof of address. If you're a student, you can also bring your student ID. The process takes about 10 minutes, and your card will be issued immediately.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        How many books can I borrow at once?
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#contactFAQ">
                    <div class="accordion-body">
                        With a standard library card, you can borrow up to 5 books at once. Premium members can borrow up to 10 books. Special collections may have different limits.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        What happens if I return a book late?
                    </button>
                </h2>
                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#contactFAQ">
                    <div class="accordion-body">
                        Late returns incur a fee of $0.50 per day per book, up to a maximum of the replacement cost of the book. If you know you'll be late, you can renew the book online or by phone to avoid late fees.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingFour">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                        Do you offer e-books and digital resources?
                    </button>
                </h2>
                <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#contactFAQ">
                    <div class="accordion-body">
                        Yes, we offer a wide range of e-books, audiobooks, and digital resources through our online platform. You can access these resources with your library card number and PIN.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<link rel="stylesheet" href="~/css/contact-index.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
